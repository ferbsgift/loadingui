-- ===== LOADING SCREEN SETUP =====
local player = game:GetService("Players").LocalPlayer
local TweenService = game:GetService("TweenService")

-- Create the GUI
local gui = Instance.new("ScreenGui")
gui.Name = "PetDupeLoadingScreen"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main transparent background
local background = Instance.new("Frame")
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.new(0, 0, 0)
background.BackgroundTransparency = 0.5
background.Parent = gui

-- Loading container
local container = Instance.new("Frame")
container.Size = UDim2.new(0.3, 0, 0.3, 0)
container.Position = UDim2.new(0.35, 0, 0.35, 0)
container.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
container.BackgroundTransparency = 0.3
container.Parent = background

-- Add rounded corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0.1, 0)
corner.Parent = container

-- Circular loading animation
local loadingCircle = Instance.new("ImageLabel")
loadingCircle.Size = UDim2.new(0.4, 0, 0.4, 0)
loadingCircle.Position = UDim2.new(0.3, 0, 0.1, 0)
loadingCircle.Image = "rbxassetid://9125473262" -- Circular loading image
loadingCircle.BackgroundTransparency = 1
loadingCircle.Parent = container

-- Rotate the loading circle continuously
task.spawn(function()
    while gui.Parent do
        loadingCircle.Rotation = 0
        TweenService:Create(loadingCircle, TweenInfo.new(1, Enum.EasingStyle.Linear), {Rotation = 360}):Play()
        task.wait(1)
    end
end)

-- Information text
local infoText = Instance.new("TextLabel")
infoText.Size = UDim2.new(0.9, 0, 0.4, 0)
infoText.Position = UDim2.new(0.05, 0, 0.55, 0)
infoText.Text = "Please wait while finding a low-population server...\n\nNote: Duplication only works on high-tier pets like:\nDragonfly, Raccoon, Queen Bee, Red Fox, etc."
infoText.TextColor3 = Color3.new(1, 1, 1)
infoText.TextWrapped = true
infoText.Font = Enum.Font.Gotham
infoText.TextSize = 14
infoText.BackgroundTransparency = 1
infoText.Parent = container

-- Show GUI
gui.Parent = player:WaitForChild("PlayerGui")

-- Function to show/hide loading screen
local function toggleLoading(visible)
    if visible then
        gui.Enabled = true
    else
        gui.Enabled = false
    end
end

-- [3] PASTE YOUR DUPLICATE SCRIPT HERE
-- When you want to show loading (before server hop):
-- toggleLoading(true)

-- When duplication is complete:
-- toggleLoading(false)

-- Example button click handler:
-- duplicateButton.MouseButton1Click:Connect(function()
--     toggleLoading(true)
--     -- Your duplication code here
--     -- When done:
--     toggleLoading(false)
-- end)
